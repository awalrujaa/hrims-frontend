<form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
  <h2>Add Employee</h2>

  <div>
    <label>First Name</label>
    <input formControlName="firstName" required />
    <div
      *ngIf="
        employeeForm.get('firstName')?.invalid &&
        employeeForm.get('firstName')?.touched
      "
    >
      First Name is required.
    </div>
  </div>

  <div>
    <label>Middle Name:</label>
    <input formControlName="middleName" />
  </div>

  <div>
    <label>Last Name:</label>
    <input formControlName="lastName" required />
    <div
      *ngIf="
        employeeForm.get('lastName')?.invalid &&
        employeeForm.get('lastName')?.touched
      "
    >
      Last Name is required.
    </div>
  </div>

  <!-- Account Details -->
  <div>
    <label>Username:</label>
    <input formControlName="userName" required />
    <div
      *ngIf="
        employeeForm.get('userName')?.invalid &&
        employeeForm.get('userName')?.touched
      "
    >
      Username is required.
    </div>
  </div>

  <div>
    <label>Password:</label>
    <input type="password" formControlName="password" required />
    <div
      *ngIf="
        employeeForm.get('password')?.invalid &&
        employeeForm.get('password')?.touched
      "
    >
      Password must be at least 8 characters, include an uppercase letter, a
      number, and a special character.
    </div>
  </div>

  <!-- Contact Details -->
  <div>
    <label>Email:</label>
    <input formControlName="email" type="email" required />
    <div
      *ngIf="
        employeeForm.get('email')?.invalid && employeeForm.get('email')?.touched
      "
    >
      Valid email is required.
    </div>
  </div>

  <div>
    <label>Mobile Number:</label>
    <input formControlName="mobileNumber" required />
    <div
      *ngIf="
        employeeForm.get('mobileNumber')?.invalid &&
        employeeForm.get('mobileNumber')?.touched
      "
    >
      Mobile number must be 10 digits.
    </div>
  </div>

  <!-- Other Details -->
  <div>
    <label>Date of Birth:</label>
    <input type="date" formControlName="dateOfBirth" required />
    <div
      *ngIf="
        employeeForm.get('dateOfBirth')?.invalid &&
        employeeForm.get('dateOfBirth')?.touched
      "
    >
      Date of Birth is required.
    </div>
  </div>

  <div>
    <label>Blood Group:</label>
    <select formControlName="bloodGroup" required>
      <option value="">Select</option>
      <option value="A+">A+</option>
      <option value="A-">A-</option>
      <option value="B+">B+</option>
      <option value="B-">B-</option>
      <option value="AB+">AB+</option>
      <option value="AB-">AB-</option>
      <option value="O+">O+</option>
      <option value="O-">O-</option>
    </select>
    <div
      *ngIf="
        employeeForm.get('bloodGroup')?.invalid &&
        employeeForm.get('bloodGroup')?.touched
      "
    >
      Blood Group is required.
    </div>
  </div>

  <div>
    <label>Salary:</label>
    <input type="number" formControlName="salary" required />
    <div
      *ngIf="
        employeeForm.get('salary')?.invalid &&
        employeeForm.get('salary')?.touched
      "
    >
      Salary must be a positive number.
    </div>
  </div>

  <div>
    <label>Date of Joining:</label>
    <input type="date" formControlName="dateOfJoining" required />
    <div
      *ngIf="
        employeeForm.get('dateOfJoining')?.invalid &&
        employeeForm.get('dateOfJoining')?.touched
      "
    >
      Date of Joining is required.
    </div>
  </div>

  <div>
    <label>Department ID:</label>
    <input type="number" formControlName="departmentId" required />
    <div
      *ngIf="
        employeeForm.get('departmentId')?.invalid &&
        employeeForm.get('departmentId')?.touched
      "
    >
      Department ID is required and must be a positive number.
    </div>
  </div>

  <div>
    <label>Role Type:</label>
    <select formControlName="roleType" required>
      <option value="">Select</option>
      <option value="ADMIN">ADMIN</option>
      <option value="USER">USER</option>
    </select>
    <div
      *ngIf="
        employeeForm.get('roleType')?.invalid &&
        employeeForm.get('roleType')?.touched
      "
    >
      Role Type is required.
    </div>
  </div>

  <!-- Address List -->
  <div formArrayName="addressList">
    <h3>Addresses</h3>
    <button type="button" (click)="addAddress()">Add Address</button>
    <div
      *ngFor="let address of addressList.controls; let i = index"
      [formGroupName]="i"
    >
      <h4>Address {{ i + 1 }}</h4>
      <div>
        <label>Street:</label>
        <input formControlName="street" required />
        <div
          *ngIf="
            address.get('street')?.invalid && address.get('street')?.touched
          "
        >
          Street is required.
        </div>
      </div>
      <div>
        <label>City:</label>
        <input formControlName="city" required />
        <div
          *ngIf="address.get('city')?.invalid && address.get('city')?.touched"
        >
          City is required.
        </div>
      </div>
      <div>
        <label>State:</label>
        <input formControlName="state" required />
        <div
          *ngIf="address.get('state')?.invalid && address.get('state')?.touched"
        >
          State is required.
        </div>
      </div>
      <div>
        <label>Zipcode:</label>
        <input formControlName="zipcode" required />
        <div
          *ngIf="
            address.get('zipcode')?.invalid && address.get('zipcode')?.touched
          "
        >
          Zipcode must be 5 digits.
        </div>
      </div>
      <div>
        <label>Country:</label>
        <input formControlName="country" required />
        <div
          *ngIf="
            address.get('country')?.invalid && address.get('country')?.touched
          "
        >
          Country is required.
        </div>
      </div>
      <div>
        <label>Type:</label>
        <select formControlName="type" required>
          <option value="">Select</option>
          <option value="PERMANENT">PERMANENT</option>
          <option value="TEMPORARY">TEMPORARY</option>
        </select>
        <div
          *ngIf="address.get('type')?.invalid && address.get('type')?.touched"
        >
          Address Type is required.
        </div>
      </div>
      <button
        type="button"
        (click)="removeAddress(i)"
        *ngIf="addressList.length > 1"
      >
        Remove Address
      </button>
    </div>
  </div>

  <!-- Submit Button -->
  <button type="submit" [disabled]="employeeForm.invalid">Add Employee</button>
</form>
